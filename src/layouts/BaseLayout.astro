---
interface Props {
  title: string;
  description: string;
}

const { title, description } = Astro.props;
const siteUrl = 'https://dmontagu.github.io/roam-outfitters';
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{title}</title>
    <meta name="description" content={description}>
    <meta name="robots" content="index, follow">
    <meta name="author" content="Roam Outfitters">
    <meta name="geo.region" content="US-MT">
    <meta name="geo.placename" content="Gallatin Valley, Montana">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href={`${import.meta.env.BASE_URL}favicon.ico`}>
    <link rel="icon" type="image/png" sizes="32x32" href={`${import.meta.env.BASE_URL}favicon-32x32.png`}>
    <link rel="icon" type="image/png" sizes="16x16" href={`${import.meta.env.BASE_URL}favicon-16x16.png`}>
    <link rel="apple-touch-icon" sizes="180x180" href={`${import.meta.env.BASE_URL}apple-touch-icon.png`}>

    <!-- Open Graph -->
    <meta property="og:title" content="Roam Outfitters | Montana's Premier Trout Guides">
    <meta property="og:description" content="Guided fly fishing trips in Montana's Gallatin Valley. 23 years of experience on blue ribbon waters.">
    <meta property="og:type" content="website">
    <meta property="og:url" content={siteUrl}>
    <meta property="og:image" content={`${siteUrl}/og-image.jpg`}>
    <meta property="og:image:width" content="1920">
    <meta property="og:image:height" content="1281">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Roam Outfitters | Montana's Premier Trout Guides">
    <meta name="twitter:description" content="Guided fly fishing trips in Montana's Gallatin Valley. 23 years of experience on blue ribbon waters.">
    <meta name="twitter:image" content={`${siteUrl}/og-image.jpg`}>

    <!-- Schema.org Local Business Markup -->
    <script type="application/ld+json" set:html={JSON.stringify({
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Roam Outfitters",
        "description": "Montana's Premier Trout Guides - Guided fly fishing trips in the Gallatin Valley",
        "url": "https://roamoutfitters.com",
        "telephone": "+1-406-539-0957",
        "email": "roamoutfittersmt@gmail.com",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Manhattan",
            "addressRegion": "MT",
            "addressCountry": "US"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": 45.8566,
            "longitude": -111.3352
        },
        "areaServed": ["Gallatin Valley", "Bozeman", "Southwest Montana"],
        "priceRange": "$600-$750",
        "sameAs": [
            "https://instagram.com/roam_outfitters_mt"
        ]
    })} />

    <!-- Enable scroll reveal (prevents FOIC) -->
    <script is:inline>document.documentElement.classList.add('js');</script>
</head>
<body class="bg-stone-50 text-stone-800 font-sans">
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Film grain texture overlay -->
    <svg class="grain-overlay" aria-hidden="true">
        <filter id="grain-filter">
            <feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/>
        </filter>
        <rect width="100%" height="100%" filter="url(#grain-filter)"/>
    </svg>

    <slot />

    <!-- Scroll reveal observer -->
    <script is:inline>
        (function() {
            var observer = new IntersectionObserver(function(entries) {
                entries.forEach(function(entry) {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('revealed');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.12, rootMargin: '0px 0px -40px 0px' });

            document.querySelectorAll('[data-reveal]').forEach(function(el) {
                observer.observe(el);
            });

            // Also observe mountain dividers
            document.querySelectorAll('.mountain-divider').forEach(function(el) {
                observer.observe(el);
            });
        })();
    </script>
</body>
</html>
